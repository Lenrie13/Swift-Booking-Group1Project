{"ast":null,"code":"import React,{useState}from'react';import'./HomePage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function HomePage(_ref){let{setIsAuthenticated,setSignedInUser}=_ref;const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[username,setUsername]=useState('');const[isSignUp,setIsSignUp]=useState(false);const[error,setError]=useState('');const handleLogin=async event=>{event.preventDefault();try{const response=await fetch('http://127.0.0.1:5001/auth/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})});if(response.ok){const data=await response.json();setSignedInUser(data.username);setIsAuthenticated(true);setError('');}else{const errorData=await response.json();setError(errorData.message||'Error logging in');}}catch(err){console.error('Error logging in:',err);setError('Error logging in');}};const handleSignUp=async event=>{event.preventDefault();try{const response=await fetch('http://127.0.0.1:5001/auth/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username,email,password})});if(response.ok){const data=await response.json();setSignedInUser(username);setIsAuthenticated(true);setError('');}else{const errorData=await response.json();setError(errorData.message||'Error signing up');}}catch(err){console.error('Error signing up:',err);setError('Error signing up');}};return/*#__PURE__*/_jsx(\"div\",{className:\"home-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:isSignUp?'Sign Up':'Sign In'}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",value:email,onChange:event=>setEmail(event.target.value),required:true,autoComplete:\"off\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:password,onChange:event=>setPassword(event.target.value),required:true,autoComplete:\"off\"})]}),isSignUp&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",value:username,onChange:event=>setUsername(event.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[isSignUp?/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"sign-up-button\",onClick:handleSignUp,children:\"Sign Up\"}):/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-button\",onClick:handleLogin,children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"toggle-button\",onClick:()=>setIsSignUp(!isSignUp),children:isSignUp?'Already have an account? Login':'Need an account? Sign Up'})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error})]})]})});}export default HomePage;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","HomePage","_ref","setIsAuthenticated","setSignedInUser","email","setEmail","password","setPassword","username","setUsername","isSignUp","setIsSignUp","error","setError","handleLogin","event","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","data","json","errorData","message","err","console","handleSignUp","className","children","htmlFor","type","id","value","onChange","target","required","autoComplete","onClick"],"sources":["/Users/lenrieogutu/Projects/moringaSchool/phaseFourContent/Swift-Booking-Group1Project/src/Components/HomePage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './HomePage.css';\n\nfunction HomePage({ setIsAuthenticated, setSignedInUser }) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [username, setUsername] = useState('');\n    const [isSignUp, setIsSignUp] = useState(false);\n    const [error, setError] = useState('');\n\n    const handleLogin = async (event) => {\n        event.preventDefault();\n\n        try {\n            const response = await fetch('http://127.0.0.1:5001/auth/login', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({ email, password })\n            });\n\n            if (response.ok) {\n                const data = await response.json();\n                setSignedInUser(data.username);\n                setIsAuthenticated(true);\n                setError('');\n            } else {\n                const errorData = await response.json();\n                setError(errorData.message || 'Error logging in');\n            }\n        } catch (err) {\n            console.error('Error logging in:', err);\n            setError('Error logging in');\n        }\n    };\n\n    const handleSignUp = async (event) => {\n        event.preventDefault();\n\n        try {\n            const response = await fetch('http://127.0.0.1:5001/auth/register', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    username,\n                    email,\n                    password,\n                })\n            });\n\n            if (response.ok) {\n                const data = await response.json();\n                setSignedInUser(username);\n                setIsAuthenticated(true);\n                setError('');\n            } else {\n                const errorData = await response.json();\n                setError(errorData.message || 'Error signing up');\n            }\n        } catch (err) {\n            console.error('Error signing up:', err);\n            setError('Error signing up');\n        }\n    };\n\n    return (\n        <div className=\"home-page\">\n            <div className=\"auth-form\">\n                <h2>{isSignUp ? 'Sign Up' : 'Sign In'}</h2>\n                <form>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"email\">Email</label>\n                        <input\n                            type=\"email\"\n                            id=\"email\"\n                            value={email}\n                            onChange={(event) => setEmail(event.target.value)}\n                            required\n                            autoComplete=\"off\"\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input\n                            type=\"password\"\n                            id=\"password\"\n                            value={password}\n                            onChange={(event) => setPassword(event.target.value)}\n                            required\n                            autoComplete=\"off\"\n                        />\n                    </div>\n                    {isSignUp && (\n                        <div className=\"form-group\">\n                            <label htmlFor=\"username\">Username</label>\n                            <input\n                                type=\"text\"\n                                id=\"username\"\n                                value={username}\n                                onChange={(event) => setUsername(event.target.value)}\n                                required\n                            />\n                        </div>\n                    )}\n                    <div className=\"button-container\">\n                        {isSignUp ? (\n                            <button type=\"submit\" className=\"sign-up-button\" onClick={handleSignUp}>Sign Up</button>\n                        ) : (\n                            <button type=\"submit\" className=\"login-button\" onClick={handleLogin}>Login</button>\n                        )}\n                        <button type=\"button\" className=\"toggle-button\" onClick={() => setIsSignUp(!isSignUp)}>\n                            {isSignUp ? 'Already have an account? Login' : 'Need an account? Sign Up'}\n                        </button>\n                    </div>\n                    {error && <p className=\"error-message\">{error}</p>}\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default HomePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}